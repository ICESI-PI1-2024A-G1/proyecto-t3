{% extends 'base.html' %} {% block content %}

<head>
  {% load static %}
  <script src="{% static 'js/materia.js' %}"></script>
  <script src="{% static 'js/popup.js' %}"></script>
</head>
<div class="container" style="text-align: start;">
  <h2 class="mt-2"><strong>{{ materia.nombre }}:</strong> {{ materia.codigo }}</h2>

  <div class="row">
      <label class="col ml-3" style="text-align: start;"><strong>Departamento:</strong> {{ materia.departamento.nombre }}</label>
      <label class="col ml-3" style="text-align: start;"><strong>Creditos:</strong> {{ materia.creditos }}</label>
      <label class="col ml-3" style="text-align: start;"><strong>Tipo:</strong> {{ materia.nombre }}</label>
  </div>

  <!-- Tabla de cursos -->
  <div class="block card card-body mt-3 inner-shadow">
    <div class="form-inline">
      <div class="col">
        <strong>Cursos</strong>
      </div>
      <div class="justify-content-end">
        Periodo selecionado:
        <select class="custom-select mr-2" id="periodo" onchange="cambiar_periodo()">
              {% for periodo in periodos %} 
              {% if periodo_seleccionado == periodo.semestre %}
          <option value="{{materia.codigo}}/{{ periodo.semestre }}" selected="true">{{ periodo.semestre }}</option>
          {% else %}
          <option value="{{materia.codigo}}/{{ periodo.semestre }}">{{ periodo.semestre }}</option>
          {% endif %} 
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="block card card-body mt-3 inner-shadow">
      <div class="mt-2">
    
      <div class="pd-1 row align-items-center">
        <div class="frame m-2 justify-content-center" style="background-color: rgba(120, 120, 120, 0.773);"><strong style="width: 25px;"> </strong></div>
          {% for curso in cursos %} 
          <div id="{{curso.nrc}}" class="color-{{cursos.color}} frame m-2 btn outer-shadow" onclick="window.location.href='/academico/cursos/{{curso.nrc}}'" style="width: 100px;">
            <div class="div">
              <span class="text-wrapper span"> NRC: {{curso.nrc}}</span>
              <span class="text-wrapper span"> Grupo:{{curso.grupo}}</span>
              <span class="text-wrapper span"> Cupos:{{curso.cupo}}</span>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <a class="btn btn-primary mt-2"  onclick="show()">Nuevo curso<img class="icon" src="{% static 'img/add.webp' %}"></a>
    {% include 'crear-curso.html' %}
  </div>
</div>
</div class="row">

  {% endblock %}

</div>